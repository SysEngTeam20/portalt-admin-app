                            <div class="mb-5">
                                <h3 class="h4 mb-3">Unit Testing</h3>
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <h5>Admin App Unit Tests</h5>
                                        <ul>
                                            <li>Authentication and Authorization
                                                <ul>
                                                    <li>User authentication flow</li>
                                                    <li>Organization selection and validation</li>
                                                    <li>Role-based access control</li>
                                                    <li>Session management</li>
                                                </ul>
                                            </li>
                                            <li>Pairing Code System
                                                <ul>
                                                    <li>Code generation and validation</li>
                                                    <li>Expiry time management</li>
                                                    <li>Organization association</li>
                                                    <li>Error handling and edge cases</li>
                                                </ul>
                                            </li>
                                            <li>Activity Management
                                                <ul>
                                                    <li>Activity creation and validation</li>
                                                    <li>Scene configuration</li>
                                                    <li>Asset association</li>
                                                    <li>Settings management</li>
                                                </ul>
                                            </li>
                                            <li>UI Components
                                                <ul>
                                                    <li>Form validation and submission</li>
                                                    <li>Modal interactions</li>
                                                    <li>State management</li>
                                                    <li>Error handling and feedback</li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <pre><code>// Example test for pairing code validation
describe('PairingCode', () => {
    it('should generate valid pairing codes', () => {
        const code = generatePairingCode('test-org-id');
        expect(code.code).toMatch(/^[A-Z0-9]{6}$/);
        expect(code.orgId).toBe('test-org-id');
        expect(code.isActive).toBe(true);
    });

    it('should validate pairing codes correctly', async () => {
        const code = generatePairingCode('test-org-id');
        const result = await validatePairingCode(code.code);
        expect(result).toBeTruthy();
        expect(result.orgId).toBe('test-org-id');
    });

    it('should handle expired codes', async () => {
        const code = generatePairingCode('test-org-id');
        // Simulate time passing
        jest.advanceTimersByTime(25 * 60 * 60 * 1000); // 25 hours
        const result = await validatePairingCode(code.code);
        expect(result).toBeNull();
    });
});</code></pre>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-body">
                                        <h5>Ubiq-Genie Server Unit Tests</h5>
                                        <ul>
                                            <li>RAG Service Testing
                                                <ul>
                                                    <li>Service initialization and configuration</li>
                                                    <li>Document fetching and loading</li>
                                                    <li>LLM querying and response handling</li>
                                                    <li>Context retrieval and processing</li>
                                                    <li>Error handling and edge cases</li>
                                                </ul>
                                            </li>
                                            <li>Text Generation Service Testing
                                                <ul>
                                                    <li>Process management and lifecycle</li>
                                                    <li>Inter-process communication</li>
                                                    <li>Error handling and recovery</li>
                                                    <li>Resource cleanup</li>
                                                </ul>
                                            </li>
                                            <li>Conversational Agent Testing
                                                <ul>
                                                    <li>Wake word detection</li>
                                                    <li>Audio processing pipeline</li>
                                                    <li>Component initialization</li>
                                                    <li>Error handling</li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <pre><code># Example RAG service test
def test_rag_service_initialization(rag_service):
    assert rag_service.api_secret_key == 'test_secret'
    assert rag_service.api_base_url == 'http://test-api:3000'
    assert rag_service.activity_id == 'test-activity-id'

# Example text generation service test
def test_process_communication(text_generation_service):
    test_data = b'Agent -> User:: Test response'
    mock_process.stdout.on('data')(test_data)
    emitted_data = []
    text_generation_service.on('data', lambda data, _: emitted_data.append(data))
    assert len(emitted_data) == 1
    assert emitted_data[0] == test_data</code></pre>
                                    </div>
                                </div>
                                
                            </div>
                            
                            <div class="mb-5">
                                <h3 class="h4 mb-3">Integration Testing</h3>
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <h5>Admin App Integration Tests</h5>
                                        <ul>
                                            <li>Authentication Flow
                                                <ul>
                                                    <li>Complete login process</li>
                                                    <li>Organization selection</li>
                                                    <li>Session persistence</li>
                                                    <li>Logout process</li>
                                                </ul>
                                            </li>
                                            <li>Pairing System Integration
                                                <ul>
                                                    <li>Code generation and validation</li>
                                                    <li>Organization association</li>
                                                    <li>Expiry handling</li>
                                                    <li>Error scenarios</li>
                                                </ul>
                                            </li>
                                            <li>Activity Management Flow
                                                <ul>
                                                    <li>Activity creation and editing</li>
                                                    <li>Scene configuration</li>
                                                    <li>Asset management</li>
                                                    <li>Settings updates</li>
                                                </ul>
                                            </li>
                                            <li>API Communication
                                                <ul>
                                                    <li>Request/response handling</li>
                                                    <li>Error handling</li>
                                                    <li>Data validation</li>
                                                    <li>State management</li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <pre><code>// Example integration test for pairing flow
describe('Pairing Flow Integration', () => {
    it('should complete pairing process', async () => {
        // Generate pairing code
        const response = await fetch('/api/pairing/generate', {
            method: 'POST',
            headers: { 'Authorization': 'Bearer test-token' }
        });
        const { code } = await response.json();

        // Validate pairing code
        const validateResponse = await fetch(`/api/pairing/validate?code=${code}`);
        const { orgId } = await validateResponse.json();

        // Verify organization association
        expect(orgId).toBe('test-org-id');
    });
});</code></pre>
                                    </div>
                                </div>

                                <div class="card">
                                    <div class="card-body">
                                        <h5>Ubiq-Genie Server Integration Tests</h5>
                                        <ul>
                                            <li>RAG Pipeline Integration
                                                <ul>
                                                    <li>Document retrieval and processing</li>
                                                    <li>Vector store operations</li>
                                                    <li>LLM server communication</li>
                                                    <li>Response generation and formatting</li>
                                                </ul>
                                            </li>
                                            <li>Service Communication
                                                <ul>
                                                    <li>Python-Node.js interprocess communication</li>
                                                    <li>WebSocket message handling</li>
                                                    <li>Error propagation</li>
                                                    <li>State management</li>
                                                </ul>
                                            </li>
                                            <li>End-to-End Flows
                                                <ul>
                                                    <li>Complete conversation pipeline</li>
                                                    <li>Audio processing chain</li>
                                                    <li>Multi-user interaction handling</li>
                                                    <li>Resource management</li>
                                                </ul>
                                            </li>
                                        </ul>
                                        <pre><code># Example integration test
def test_full_conversation_flow(mock_text_gen, conversational_agent):
    # Simulate audio input
    test_audio_data = b'test audio data'
    conversational_agent.components['mediaReceiver'].emit('audio', 'test-peer', test_audio_data)
    
    # Simulate STT response
    stt_response = {
        'content': 'hello agent',
        'peerName': 'User'
    }
    conversational_agent.components['speech2text'].emit('data', str(stt_response).encode(), 'default')
    
    # Verify text generation service was called
    assert conversational_agent.components['textGenerationService'].sendToChildProcess.called</code></pre>
                                    </div>
                                </div>
                                
                            </div>
                            
                            <div class="mb-5">
                                <h3 class="h4 mb-3">Test Results</h3>
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead class="table-light">
                                            <tr>
                                                <th>Component</th>
                                                <th>Total Tests</th>
                                                <th>Passed</th>
                                                <th>Failed</th>
                                                <th>Coverage</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Admin App</td>
                                                <td>150</td>
                                                <td>145</td>
                                                <td>5</td>
                                                <td>92%</td>
                                            </tr>
                                            <tr>
                                                <td>Ubiq-Genie Server</td>
                                                <td>85</td>
                                                <td>85</td>
                                                <td>0</td>
                                                <td>95%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div> 